/*
 *
 * Artifactory is a binaries repository manager.
 * Copyright (C) 2018 JFrog Ltd.
 *
 * Artifactory is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 * Artifactory is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with Artifactory.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
.jf-widgets-layout-container .widgets-padder .widget-wrapper .widget-container {
  border: none;
  box-shadow: 0 1px 8px -2px rgba(0,0,0,.4);
  z-index: 1;
}
.widget-wrapper {
  &.widget-wrapper-addons {max-height: 224px;}
  &.widget-wrapper-artifacts-count,
  &.widget-wrapper-version,
  &.widget-wrapper-quick-search {
    .widget-container > div {
      height: 100%;
      & > div, & > div > div {
        height: 100%;
      }
    }
  }
}
.home-page-widget {
  //font-size: 1vw !important;
  /* === ARTIFACTS COUNT WIDGET & VERSION WIDGET === */
  &.artifacts-count,
  &.version {
    display: table;
    width: 100%;
    table-layout: fixed;
    .row {
      display: table-row;
      .table-cell {display: table-cell; text-align: center; width: 100%;}
      &.top {
        font-weight: 700;
        .table-cell {
          height: 60%;
          vertical-align: bottom;
          color: #373737; // TODO: color to variable
          font-size: 18px;
          transition: font-size .2s ease;
          @media @small-screen {
            font-size: 14px;
          }
        }
      }
      &.bottom {
        .table-cell {height: 30%; vertical-align: middle;}
      }
    }
    // design
    .big-num {
      display: block;
      font-size: 56px;
      overflow: hidden;
      padding: 0 10px;
      text-overflow: ellipsis;
      text-align: center;
      font-weight: normal;
      margin-bottom: -5px;
      @media @small-screen {
        font-size: 36px;
      }
    }
    &.artifacts-count {
      .big-num {color: #006cab;}
      a.refresh-count {
        position: absolute;
        right: 15px;
        top: 10px;
        font-size: 18px;
        i:before {color: #c8c8c8;}
        &:hover i:before {
          color: #6d6d6d;
        }
      }
      .row.bottom {
        .table-cell {position: relative;}
      }
    }
    &.version {
      .big-num {color: #43a047;}
      .bottom {
        .table-cell {
          a {
            color: #878787;
            font-size: 14px;
            position: relative;
            top: -4px;
            @media @small-screen {
              top: -8px;
            }
          }
        }
      }
    }
    &.open-menu {
      .row {
        &.top {
          .table-cell {
            @media @small-screen {
              font-size: 12px;
            }
          }
        }
      }
    }
  }

  /* === QUICK SEARCH === */
  &.quick-search {
    display: table;
    width: 100%;
    padding: 0 30px;
    @media @small-screen {
      padding: 0 10px;
    }
    @search-text-color: #2c2c2c;
    .table-row {display: table-row;}
    div.table-row {
      @media @extra-small-screen {
        display: none;
      }
    }
    .quick-search-input-wrapper {
      display: table-cell;
      padding: 22px 0 0;
      height: 45px;
      position: relative;
      @media @small-screen {
        padding: 8px 15px 0;
      }
      @media @extra-small-screen {
        padding: 2px 15px 0;
        height: 30px;
        vertical-align: middle;
      }

      .search-input {
        display: inline-block;
        height: 100%;
        width: 100%;
        color: #373737; //@search-text-color
        @media @extra-small-screen {
          height: auto;
        }
        .icon-search {
          position: absolute;
          line-height: 40px;
          font-size: 24px;
          cursor: pointer;
          @media @extra-small-screen {
            font-size: 18px;
            line-height: 30px;
          }
          &:before {
            color: #000;
          }
        }
        .input-text {
          //margin-left: 20px;
          padding-left: 30px;
          border: 0;
          color: #000; //@search-text-color
          width: 100%;
          font-size: 18px;
          @media @extra-small-screen {
            padding-left: 20px;
          }
          @media @extra-small-screen {
            font-size: 14px !important;
            height: 30px;
          }
          &::-webkit-input-placeholder { /* Chrome/Opera/Safari */
            color: #000;
            font-size: 18px;
            font-weight: 400;
            font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            @media @extra-small-screen {
              font-size: 14px;
            }
          }
          &::-moz-placeholder { /* Firefox 19+ */
            color: #000;
            font-size: 18px;
            font-weight: 400;
            font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            @media @extra-small-screen {
              font-size: 14px;
            }
          }
          &:-ms-input-placeholder { /* IE 10+ */
            color: #000;
            font-size: 18px;
            font-weight: 400;
            font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            @media @extra-small-screen {
              font-size: 14px;
            }
          }

        }
        .sep {
          position: absolute;
          background: #373737;
          height: 2px;
          bottom: -2px;
          left: 0;
          right: 100%;
          transition: right .2s ease-out;
          @media @small-screen {
            left: 15px;
          }
        }
        .input-text:focus + .sep {
          right: 0;
          @media @small-screen {
            right: 15px;
          }
        }
      }
    }

    .quick-search-nav {
      display: table-cell;
      vertical-align: top;
      padding: 12px 0 0;
      .icon-addons-arrow-right {
        margin-left: 2px;
      }
      @media @small-screen {
        padding-top: 6px;
        padding-left: 15px;
      }
      @media @extra-small-screen {
        padding-top: 3px;
      }
      & > div {
        margin: 2px 0 20px;
        color: #000;
        @media @small-screen {
          margin: 4px 0 6px;
        }
      }
      ul {
        display: table;
        width: 100%;
        li {
          display: table-cell;
          vertical-align: top;
          color: #000;
          a {
            display: inline-block;
            position: relative;
            padding-left: 10px;
            font-size: 14px;
            overflow: hidden;
            color: #000;
            white-space: pre;
            transition: font-size .2s ease;
            @media @extra-small-screen {
              line-height: 1.2em;
            }
            &:before {
              content: '';
              position: absolute;
              width: 2px;
              top: 5px;
              bottom: 5px;
              left: 0;
              background: #bababa;
            }
            &:hover {
              color: #000;
              &:before {
                background: #333;
              }
            }
            &:after {
              display: inline-block;
              font-size: 12px;
              position: static;
              margin-right: -17px;
              margin-left: 3px;
            }
          }
          &:first-child {max-width: 100%;}
        }
      }
    }
    &.open-menu {
      .quick-search-nav ul li a {
        @media @small-screen {
          font-size: 12px;
        }
      }
    }
  }

  /* === UPDATES WIDGET (NEWS) === */
  &.updates {
    white-space: normal;
    text-align: center;
    padding: 14px;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    .inner {
      position: absolute;
      top: 14px;
      right: 14px;
      left: 14px;
      bottom: 14px;
      padding: 0 15px;
      box-shadow: 0 1px 8px -2px rgba(0,0,0,.8);
      .screw {
        position: absolute;
        font-size: 10px;
        color: #000;
        &:before {
          font-family: 'artifactory' !important;
          content: '\e930'
        }
        &.screw-tr {top: 5px; right: 10px;}
        &.screw-tl {top:5px; left: 10px; transform: scaleX(-1);}
        &.screw-br {bottom:5px; right: 10px; transform: scaleX(-1);}
        &.screw-bl {bottom:5px; left: 10px;}
      }
    }
    .jfrog-news {
      display: flex;
      height: 100%;
      flex-direction: column;
      justify-content: center;
      h3 {
        color: @greenBGDark;
        margin: 30px 0 15px;
        font-size: 18px;
        transition: font-size .2s ease;
        @media @small-screen {
          font-size: 14px;
          margin: 10px 0;
        }
        @media @extra-small-screen {
          font-size: 12px;
          margin: 10px 0 5px;
        }
      }
      .news-content {
        overflow: auto;
        height: 100%;
        font-size: 18px;
        color: #373737;
        transition: font-size .2s ease;
        @media @small-screen {
          font-size: 14px;
        }
        @media @extra-small-screen {
          font-size: 12px;
        }
        .jfrog-news-title {
          display: block;
          font-size: 28px;
          font-weight: bold;
          @media @small-screen {
            font-size: 18px;
          }
          @media @extra-small-screen {
            font-size: 14px;
          }
          & + br {display: none;}
        }
        .jfrog-news-body {
          line-height: 1.5em;
        }
        .jfrog-news-link {
          display: block;
          a {
            color: #1464bf;
            font-size: 20px;
            font-weight: bold;
            @media @small-screen {
              font-size: 14px;
            }
            @media @extra-small-screen {
              font-size: 12px;
            }
          }
        }
      }
      .twitter {
        padding-bottom: 20px;
        @media @small-screen {
          padding-bottom: 10px;
        }
        @media @extra-small-screen {
          padding-bottom: 5px;
        }
      }
      .twitter-follow-us {
        display: inline-block;
        font-size: 14px;
        font-weight: bold;
        line-height: 1.5em;
        @media @small-screen {line-height: 1.2em;}
        @media @extra-small-screen {line-height: 1em;}
        i {
          font-size: 20px;
          @media @extra-small-screen {
            font-size: 12px;
          }
        }
        &, & > i:before {color: #c8c8c8;}
        &:hover, &:hover i:before {
          color: #6d6d6d;
        }
        @media @extra-small-screen {
          font-size: 12px;
        }
      }
    }
  }

  /* === LAST DEPLOYED WIDGET & MOST DOWNLOADED WIDGET === */
  &.set-me-up,
  &.last-deployed,
  &.most-downloaded {
    p {margin: 5px 15px;}
   .list-title {
     font-size: 14px;
     color: #373737;
     border-bottom: 1px solid #e0e0e0;
     line-height: 48px;
     padding: 0 15px;
     font-weight: 700;
     transition: font-size .2s ease;
     & > span {
       display: inline-block;
       font-size: 12px;
       color: #c8c8c8;
       margin-left: 5px;
       font-weight: normal;
     }
     .refresh-button {
       font-weight: normal;
       font-size: 18px;
       color: @jfColorAlmostBlack;
       i:before {color: @jfColorAlmostBlack;}
       &:hover, &:hover i:before {
         color: @jfColorGreen;
       }
     }
   }
    .list-content {
      white-space: normal;
      font-size: 14px;
      position: absolute;
      top: 49px;
      bottom: 0;
      right: 0;
      left: 0;
      overflow: hidden;
      overflow-y: auto;
      &.no-content {
        padding-top: 35px;
        @media @small-screen {
          padding-top: 15px;
        }
      }
    }
    .list-item {
      line-height: 40px;
      padding: 0 15px;
      font-size: 14px;
      a {
        color: #878787;
      }
      &:nth-child(odd) {
        background-color: @grayGridRow;
      }
    }
    &.open-menu {
      .list-title {
        @media @small-screen {
          font-size: 12px;
        }
      }
    }
  }

  &.last-deployed{
    .build-number{
        color: @jfColorGreen;
    }
  }

  &.most-downloaded {
    .count {
      display: inline-block;
      font-size: 10px;
      padding: 0 5px;
      border-radius: 5px;
      height: 20px;
      line-height: 20px;
      text-align: center;
      position: relative;
      top: -1px;
      margin-right: 5px;
      color: @jfColorGreen;
      border: 1px solid @jfColorGreen;
    }
  }

  /* === ADDONS WIDGET === */
  &.addons {
    .addons-arrow {
      width: 30px;
      position: absolute;
      top: 0;
      bottom: 0;
      cursor: pointer;
      font-family: 'artifactory' !important;
      &:after {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 18px;
        color: #c1c1c1;
      }
      &:hover {
        &:after {
          color: #6c6c6c;
        }
      }
      &.addons-arrow-prev {
        left: 0;
        &:after {content: '\e92e'; left: 15px;}
      }
      &.addons-arrow-next {
        right: 0;
        &:after {content: '\e92d'; right: 15px;}
      }
    }
    .addons-wrapper {
      position: absolute;
      left:30px;
      right: 30px;
      list-style: none;
      overflow: hidden;
      top: 50%;
      transform: translateY(-50%);
      li {
        display: inline-block;
        text-align: center;
        box-sizing: border-box;
        white-space: normal;
        vertical-align: top;
        position: relative;
        padding: 20px 0 0;
        .addon-links {
          position: absolute;
          left: 50%;
          transform: translateX(-50%);
          top: 0;
          white-space: nowrap;
        }
        &:hover {
          .addon-links {
            visibility: visible;
          }
        }
        span {
          font-weight: 700;
          color: #373737; // TODO: add color to variables
          white-space: pre-wrap;
          display: inline-block;
          line-height: 1.2em;
          @media @extra-small-screen {
            font-size: 12px;
          }
          &.license-required {
            &:after {
              display: inline-block;
              font-size: 12px;
              position: static;
              margin-right: -17px;
            }
          }
        }
        &.addon-tile > span {
          font-size: 14px;
          transition: font-size .2s;
          @media @extra-small-screen {
            font-size: 12px;
          }
        }
      }
      .addon-icon {
        width: 70px;
        height: 70px;
        margin: auto;
        background-position: center;
        background-size: 70%;
        @media @small-screen {
          width: 50px;
          height: 50px;
        }
      }
      .addon-links {
        display: inline-block;
        visibility: hidden;
        height: 18px;
        line-height: 18px;
        font-size: 12px;
        background: #f7f7f7;
        padding: 0 6px;
        a {
          color: @greenBGSecondaryText;
        }
      }

    }

    &.open-menu {
      .addons-wrapper li.addon-tile > span {
        @media @small-screen {
          font-size: 12px;
        }
      }
    }
  }
  /* === LINKS WIDGET === */
  &.links {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    height: 100%;
    overflow: hidden;
    white-space: normal;
    font-size: 0 !important;
    .link-box {
      position: relative;
      width: 33.33%;
      height: 50%;
      display: inline-block;
      border-right: 1px solid @grayBGDark;
      text-align: center;
      font-size: 14px;
      overflow: hidden;
      transition: font-size .2s ease;
      @media @extra-small-screen {
        font-size: 12px;
        letter-spacing: -0.02em;
        color: red;
      }
      &:nth-child(-n+3) {
        border-bottom: 1px solid @grayBGDark;
      }
      &:nth-child(3n+3) {
        border-right: 0;
      }
      a {
        display: block;
        width: 100%;
        height: 100%;
        outline: none;
        .links-icon {
          position: relative;
          top: 50%;
          transform: translateY(-50%);
          .icon {height: 45px;}
          span {
            padding-top: 5px;
            display: block;
            font-weight: 700;
            color: @greenBGSecondaryText;
          }
          svg {
            max-height: 40px;
            max-width: 40px;
            padding: 3px;
            position: relative;
            top: 50%;
            transform: translateY(-50%);
          }
        }

        &.user-guide {
          .line {transition: all .2s ease-in;}

          .line {
            fill: none;
            stroke: #000;
            stroke-width: 2;
          }

          &:hover {
            .line {
              stroke: #006cab;
              //stroke-linecap:round;
              //stroke-miterlimit:10;
              stroke-dasharray: 250;
              stroke-dashoffset: 250;
              &.line1 {animation: user-guide .4s forwards linear .3s;}
              &.line2 {animation: user-guide .4s forwards linear .35s;}
              &.line3 {animation: user-guide .4s forwards linear .40s;}
              &.line4 {animation: user-guide .4s forwards linear .45s;}
              &.line5 {animation: user-guide .4s forwards linear .50s;}
              &.line6 {animation: user-guide .4s forwards linear .55s;}
              &.line7 {animation: user-guide .4s forwards linear .6s;}
              &.line8 {animation: user-guide .4s forwards linear .65s;}
              &.line9 {animation: user-guide .4s forwards linear .7s;}
              &.line10 {animation: user-guide .4s forwards linear .75s;}
            }
          }
        }
        &.webinar {
          .play {transition: all .3s ease; transform-origin: 50% 50%;}
          &:hover .play {
            fill: #43a047;
            animation: play 1s 1 linear .2s;
          }
        }
        &.support {
          .lines {transition: all .2s ease; transform-origin: 50% 50%;}
          &:hover {
            .lines {
              fill: #d7593f;
              animation: wheels .8s 1 cubic-bezier(.32,.06,.64,.18) .2s;
            }
          }
        }
        &.stackoverflow {
          svg {max-height: 84%;}
          .line {transition: all .3s ease; transform-origin: right center;}
          &:hover {
            .line {fill: #d7593f;}
            .line1 {animation: stack-line-1 .5s 1 linear .3s;}
            .line2 {animation: stack-line-2 .5s 1 linear .3s;}
            .line3 {animation: stack-line-3 .5s 1 linear .3s;}
            .line4 {animation: stack-line-4 .5s 1 linear .3s;}
          }
        }
        &.blogs {
          .lines1, .lines2 {transition: all .5s ease;}
          &:hover {
            .box1 {animation: box1 .5s 1 linear .2s;}
            .box2 {animation: box2 .5s 1 linear .2s;}
            .lines1 {fill: #006cab; animation: lines1 .5s 1 linear .2s;}
            .lines2 {fill: #43a047; animation: lines2 .5s 1 linear .2s;}
          }
        }

        &.rest-api {
          .wheel1, .wheel2 {transition: all 1s ease; transform-origin: 50% 50%; transform-box: fill-box;}
          &:hover {
            .wheel1, .wheel2 {
              animation: wheels .8s 1 cubic-bezier(.32,.06,.64,.18) .2s;
              -moz-animation: none;
            }
            .wheel2 {animation-direction: reverse; animation-timing-function: cubic-bezier(0.36,0.82,0.679,0.94);}
            .wheel1 {fill: #65a6cc;}
            .wheel2 {fill: #006cab;}
          }
        }


      }
    }
  }

  &.set-me-up {

    .list-filter {
      border: 1px solid #e9e9e9;
      border-top: none;
      overflow: hidden;

      .icon-filter{
        padding-left: 14px;
        color: #bdbdbd;
      }
      input {
        border: none;
        width: 94%;
        height: 38px;

        line-height: 40px;
        border-width: 0 0 1px;
      }
      & + .list-content {
        top: 89px;
      }
    }
    .list-item {
      cursor: pointer;

      div {
        display: inline-block;
      }
      div.icon {
        margin-right: 8px;
        color: @blackBGDark;
        transition: color .5s;
      }
      &:hover {
        .repo,
        div.icon {
          color: @greenBGDark;
        }
      }
      .repo {
        color: @blackBGDark;
        transition: color .5s;
      }
    }
  }
  &.open-menu {
    .link-box {
      @media @small-screen {
        font-size: 12px;
        letter-spacing: -0.02em;
      }
    }
  }
}

/* === ANIMATIONS === */
@keyframes wheels {
  0% {transform: rotate(0deg);}
  100% {transform: rotate(-290deg);}
}

@keyframes play {
  15% {transform: scale(1,1);}
  20% {transform: scale(.8,.8);}
  30% {transform: scale(1.45,1.45) rotate(-8deg);}
  40% {transform: scale(1,1);}
}

@keyframes stack-line-1 {
  //30% {transform: rotate(0) translateX(0);}
  30% {transform: rotate(-14deg) translateX(-5px);}
}
@keyframes stack-line-2 {
  //30% {transform: rotate(0) translateX(0);}
  30% {transform: rotate(-12deg) translateX(-3px);}
}
@keyframes stack-line-3 {
  //30% {transform: rotate(0) translateX(0);}
  30% {transform: rotate(-13deg) translateX(-1px);}
}
@keyframes stack-line-4 {
  //0% {transform: rotate(0);}
  30% {transform: rotate(-7deg);}
}

@keyframes box1 {
  30% {transform: rotate(3deg) translateX(2px);}
}
@keyframes lines1 {
  30% {transform: rotate(2deg) translateX(1px);}
}
@keyframes box2 {
  30% {transform: rotate(-2deg) translateX(-1px);}
}
@keyframes lines2 {
  30% {transform: rotate(-2deg);}
}

@keyframes user-guide {
  to {
    stroke-dashoffset: 0;
  }
}