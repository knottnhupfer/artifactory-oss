<!--
  ~ Artifactory is a binaries repository manager.
  ~ Copyright (C) 2018 JFrog Ltd.
  ~
  ~ Artifactory is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ Artifactory is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with Artifactory.  If not, see <http://www.gnu.org/licenses/>.
  -->
<div class="center-login">
    <form name="ChangePassword.changePasswordForm" class="jumbotron login-form change-password-form" ng-submit="ChangePassword.change()" novalidate id="login-form">
        <div class="login-inner">
            <h3>Your Password Has Expired.</h3>
            <div class="form-group">
                <h4>Change Password:</h4>
                <div class="form-group-cell">
                    <jf-field validations="users" autofocus="true">
                        <input type="password"
                               name="oldPassword"
                               ng-model="ChangePassword.fields.oldPassword"
                               class="input-text"
                               placeholder="Old Password *"
                               id="oldPassword"
                               required>
                    </jf-field>
                </div>
            </div>
            <div class="form-group">
                <div class="form-group-cell">
                    <jf-field validations="users">
                        <input type="password"
                               name="newPassword"
                               ng-model="ChangePassword.fields.newPassword"
                               class="input-text"
                               minlength="4"
                               placeholder="New Password *"
                               id="newPassword"
                               required>
                    </jf-field>
                </div>
            </div>
            <div class="form-group">
                <div class="form-group-cell">
                    <jf-field validations="users">
                        <input type="password"
                               name="retypeNewPassword"
                               ng-model="ChangePassword.fields.retypeNewPassword"
                               class="input-text"
                               placeholder="Retype New Password *"
                               id="password"
                               required>
                    </jf-field>
                    <div class="jf-form-errors preserve-lb" ng-if="ChangePassword.fields.newPassword && ChangePassword.fields.retypeNewPassword && ChangePassword.fields.retypeNewPassword !== ChangePassword.fields.newPassword">Passwords do not match</div>
                </div>
            </div>

        </div>

        <div class="login-button-bar">
            <button type="submit" class="btn btn-primary pull-right" ng-disabled="!ChangePassword.changePasswordForm.$valid || !ChangePassword.passwordsMatch()" id="login">
                Change Password
            </button>
        </div>
    </form>
</div>
